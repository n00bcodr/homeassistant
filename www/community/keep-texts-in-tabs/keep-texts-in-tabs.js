!function(){"use strict";function e(e,t,n,o){return new(n||(n=Promise))((function(r,i){function s(e){try{c(o.next(e))}catch(e){i(e)}}function a(e){try{c(o.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((o=o.apply(e,t||[])).next())}))}"function"==typeof SuppressedError&&SuppressedError;var t=function(){return t=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},t.apply(this,arguments)};function n(e,t,n,o){return new(n||(n=Promise))((function(r,i){function s(e){try{c(o.next(e))}catch(e){i(e)}}function a(e){try{c(o.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((o=o.apply(e,t||[])).next())}))}function o(e,t){var n,o,r,i,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(a){return function(c){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,a[0]&&(s=0)),s;)try{if(n=1,o&&(r=2&a[0]?o.return:a[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,a[1])).done)return r;switch(o=0,r&&(a=[2&a[0],r.value]),a[0]){case 0:case 1:r=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,o=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!((r=(r=s.trys).length>0&&r[r.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!r||a[1]>r[0]&&a[1]<r[3])){s.label=a[1];break}if(6===a[0]&&s.label<r[1]){s.label=r[1],r=a;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(a);break}r[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(e){a=[6,e],o=0}finally{n=r=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}}"function"==typeof SuppressedError&&SuppressedError;var r="$",i=":host",s="invalid selector",a=10,c=10,l=function(e){var t,n=e[0],o=e[1];return(t=n)&&(t instanceof Document||t instanceof Element||t instanceof ShadowRoot)&&"string"==typeof o};function u(e,t){return function(e){return e.split(",").map((function(e){return e.trim()}))}(e).map((function(e){var n=function(e){return e.split(r).map((function(e){return e.trim()}))}(e);return t(n)}))}var _=function(e,t,n,o){return new Promise((function(r){var i=0,s=function(){var a=e();t(a)?r(a):++i<n?setTimeout(s,o):r(a)};s()}))};function h(e,t){var n=t?" If you want to select a shadowRoot, use ".concat(t," instead."):"";return"".concat(e," cannot be used with a selector ending in a shadowRoot (").concat(r,").").concat(n)}function d(e){return e instanceof Promise?e:Promise.resolve(e)}function O(){return"You can not select a shadowRoot (".concat(r,") of the document.")}function f(){return"You can not select a shadowRoot (".concat(r,") of a shadowRoot.")}function A(e,t){for(var n,o,r=null,s=e.length,a=0;a<s;a++){if(0===a)if(e[a].length)r=t.querySelector(e[a]);else{if(t instanceof Document)throw new SyntaxError(O());if(t instanceof ShadowRoot)throw new SyntaxError(f());r=(null===(n=t.shadowRoot)||void 0===n?void 0:n.querySelector(e[++a]))||null}else r=(null===(o=r.shadowRoot)||void 0===o?void 0:o.querySelector("".concat(i," ").concat(e[a])))||null;if(null===r)return null}return r}function E(e,t){var n,o=function(e,t,n){if(n||2===arguments.length)for(var o,r=0,i=t.length;r<i;r++)!o&&r in t||(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))}([],e,!0),r=o.pop();if(!o.length)return t.querySelectorAll(r);var s=A(o,t);return(null===(n=null==s?void 0:s.shadowRoot)||void 0===n?void 0:n.querySelectorAll("".concat(i," ").concat(r)))||null}function p(e,t){if(1===e.length&&!e[0].length){if(t instanceof Document)throw new SyntaxError(O());if(t instanceof ShadowRoot)throw new SyntaxError(f());return t.shadowRoot}var n=A(e,t);return(null==n?void 0:n.shadowRoot)||null}function v(e,t,r,i){return n(this,void 0,void 0,(function(){return o(this,(function(n){return[2,_((function(){return function(e,t,n,o){void 0===n&&(n="querySelector"),void 0===o&&(o="shadowRootQuerySelector");for(var r=u(e,(function(e){if(!e[e.length-1].length)throw new SyntaxError(h(n,o));return e})),i=r.length,s=0;s<i;s++){var a=A(r[s],t);if(a)return a}return null}(e,t,"asyncQuerySelector","asyncShadowRootQuerySelector")}),(function(e){return!!e}),r,i)]}))}))}function I(e,t,r,i){return n(this,void 0,void 0,(function(){return o(this,(function(n){return[2,_((function(){return function(e,t,n){void 0===n&&(n="querySelectorAll");for(var o=u(e,(function(e){if(!e[e.length-1].length)throw new SyntaxError(h(n));return e})),r=o.length,i=0;i<r;i++){var a=E(o[i],t);if(null==a?void 0:a.length)return a}return document.querySelectorAll(s)}(e,t,"asyncQuerySelectorAll")}),(function(e){return!!e.length}),r,i)]}))}))}function R(e,t,i,s){return n(this,void 0,void 0,(function(){return o(this,(function(n){return[2,_((function(){return function(e,t,n,o){void 0===n&&(n="shadowRootQuerySelector"),void 0===o&&(o="querySelector");for(var i=u(e,(function(e){if(e.pop().length)throw new SyntaxError(function(e,t){return"".concat(e," must be used with a selector ending in a shadowRoot (").concat(r,"). If you don't want to select a shadowRoot, use ").concat(t," instead.")}(n,o));return e})),s=i.length,a=0;a<s;a++){var c=p(i[a],t);if(c)return c}return null}(e,t,"asyncShadowRootQuerySelector","asyncQuerySelector")}),(function(e){return!!e}),i,s)]}))}))}var N=function(e,t){var n=e.querySelectorAll(t);if(n.length)return n;if(e instanceof Element&&e.shadowRoot){var o=N(e.shadowRoot,t);if(o.length)return o}for(var r=0,i=Array.from(e.querySelectorAll("*"));r<i.length;r++){var a=i[r],c=N(a,t);if(c.length)return c}return document.querySelectorAll(s)},y=function(e,t,n,o){return _((function(){return N(e,t)}),(function(e){return!!e.length}),n,o)};function L(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return n(this,void 0,void 0,(function(){var t,n,r,i,s;return o(this,(function(o){switch(o.label){case 0:return l(e)?(t=e[0],n=e[1],r=e[2],[4,v(n,t,(null==r?void 0:r.retries)||a,(null==r?void 0:r.delay)||c)]):[3,2];case 1:case 3:return[2,o.sent()];case 2:return i=e[0],s=e[1],[4,v(i,document,(null==s?void 0:s.retries)||a,(null==s?void 0:s.delay)||c)]}}))}))}function m(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return n(this,void 0,void 0,(function(){var t,n,r,i,s;return o(this,(function(o){switch(o.label){case 0:return l(e)?(t=e[0],n=e[1],r=e[2],[4,I(n,t,(null==r?void 0:r.retries)||a,(null==r?void 0:r.delay)||c)]):[3,2];case 1:return[2,o.sent()];case 2:return i=e[0],s=e[1],[2,I(i,document,(null==s?void 0:s.retries)||a,(null==s?void 0:s.delay)||c)]}}))}))}function S(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return n(this,void 0,void 0,(function(){var t,n,r,i,s;return o(this,(function(o){switch(o.label){case 0:return l(e)?(t=e[0],n=e[1],r=e[2],[4,R(n,t,(null==r?void 0:r.retries)||a,(null==r?void 0:r.delay)||c)]):[3,2];case 1:return[2,o.sent()];case 2:return i=e[0],s=e[1],[2,R(i,document,(null==s?void 0:s.retries)||a,(null==s?void 0:s.delay)||c)]}}))}))}var b=function(){function e(e,n){e instanceof Node||e instanceof Promise?(this._element=e,this._asyncParams=t({retries:a,delay:c},n||{})):(this._element=document,this._asyncParams=t({retries:a,delay:c},e||{}))}return Object.defineProperty(e.prototype,"element",{get:function(){return d(this._element).then((function(e){return e instanceof NodeList?e[0]||null:e}))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,r,{get:function(){var t=this;return new e(d(this._element).then((function(e){return e instanceof Document||e instanceof ShadowRoot||null===e||e instanceof NodeList&&0===e.length?null:e instanceof NodeList?S(e[0],r,t._asyncParams):S(e,r,t._asyncParams)})),this._asyncParams)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"all",{get:function(){return d(this._element).then((function(e){return e instanceof NodeList?e:document.querySelectorAll(s)}))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"asyncParams",{get:function(){return this._asyncParams},enumerable:!1,configurable:!0}),e.prototype.eq=function(e){return n(this,void 0,void 0,(function(){return o(this,(function(t){return[2,d(this._element).then((function(t){return t instanceof NodeList&&t[e]||null}))]}))}))},e.prototype.query=function(t){var n=this;return new e(d(this._element).then((function(e){return null===e||e instanceof NodeList&&0===e.length?null:e instanceof NodeList?m(e[0],t,n._asyncParams):m(e,t,n._asyncParams)})),this._asyncParams)},e.prototype.deepQuery=function(t){var n=this;return new e(d(this._element).then((function(e){return null===e||e instanceof NodeList&&0===e.length?null:e instanceof NodeList?Promise.race(Array.from(e).map((function(e){return y(e,t,n._asyncParams.retries,n._asyncParams.delay)}))):y(e,t,n._asyncParams.retries,n._asyncParams.delay)})),this._asyncParams)},e}(),w=function(e,t){return w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},w(e,t)},T=function(){return T=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},T.apply(this,arguments)};"function"==typeof SuppressedError&&SuppressedError;var D,H,g,P,G,M,F,B,C,x,q,V,j,U,W,$,Y="$",k={retries:100,delay:50};!function(e){e.HOME_ASSISTANT="HOME_ASSISTANT",e.HOME_ASSISTANT_MAIN="HOME_ASSISTANT_MAIN",e.HA_DRAWER="HA_DRAWER",e.HA_SIDEBAR="HA_SIDEBAR",e.PARTIAL_PANEL_RESOLVER="PARTIAL_PANEL_RESOLVER"}(D||(D={})),function(e){e.HA_PANEL_LOVELACE="HA_PANEL_LOVELACE",e.HUI_ROOT="HUI_ROOT",e.HEADER="HEADER",e.HUI_VIEW="HUI_VIEW"}(H||(H={})),function(e){e.HA_MORE_INFO_DIALOG="HA_MORE_INFO_DIALOG",e.HA_DIALOG="HA_DIALOG",e.HA_DIALOG_CONTENT="HA_DIALOG_CONTENT",e.HA_MORE_INFO_DIALOG_INFO="HA_MORE_INFO_DIALOG_INFO",e.HA_DIALOG_MORE_INFO_HISTORY_AND_LOGBOOK="HA_DIALOG_MORE_INFO_HISTORY_AND_LOGBOOK",e.HA_DIALOG_MORE_INFO_SETTINGS="HA_DIALOG_MORE_INFO_SETTINGS"}(g||(g={})),function(e){e.ON_LISTEN="onListen",e.ON_PANEL_LOAD="onPanelLoad",e.ON_LOVELACE_PANEL_LOAD="onLovelacePanelLoad",e.ON_MORE_INFO_DIALOG_OPEN="onMoreInfoDialogOpen",e.ON_HISTORY_AND_LOGBOOK_DIALOG_OPEN="onHistoryAndLogBookDialogOpen",e.ON_SETTINGS_DIALOG_OPEN="onSettingsDialogOpen"}(P||(P={})),function(e){e.HOME_ASSISTANT="home-assistant",e.HOME_ASSISTANT_MAIN="home-assistant-main",e.HA_DRAWER="ha-drawer",e.HA_SIDEBAR="ha-sidebar",e.PARTIAL_PANEL_RESOLVER="partial-panel-resolver",e.HA_PANEL_LOVELACE="ha-panel-lovelace",e.HUI_ROOT="hui-root",e.HEADER=".header",e.HUI_VIEW="hui-view",e.HA_MORE_INFO_DIALOG="ha-more-info-dialog",e.HA_DIALOG="ha-dialog",e.HA_DIALOG_CONTENT=".content",e.HA_MORE_INFO_DIALOG_INFO="ha-more-info-info",e.HA_DIALOG_MORE_INFO_HISTORY_AND_LOGBOOK="ha-more-info-history-and-logbook",e.HA_DIALOG_MORE_INFO_SETTINGS="ha-more-info-settings"}($||($={}));var K,z=((G={})[D.HOME_ASSISTANT]={selector:$.HOME_ASSISTANT,children:{shadowRoot:{selector:Y,children:(M={},M[D.HOME_ASSISTANT_MAIN]={selector:$.HOME_ASSISTANT_MAIN,children:{shadowRoot:{selector:Y,children:(F={},F[D.HA_DRAWER]={selector:$.HA_DRAWER,children:(B={},B[D.HA_SIDEBAR]={selector:$.HA_SIDEBAR,children:{shadowRoot:{selector:Y}}},B[D.PARTIAL_PANEL_RESOLVER]={selector:$.PARTIAL_PANEL_RESOLVER},B)},F)}}},M)}}},G),Q=((C={})[H.HA_PANEL_LOVELACE]={selector:$.HA_PANEL_LOVELACE,children:{shadowRoot:{selector:Y,children:(x={},x[H.HUI_ROOT]={selector:$.HUI_ROOT,children:{shadowRoot:{selector:Y,children:(q={},q[H.HEADER]={selector:$.HEADER},q[H.HUI_VIEW]={selector:$.HUI_VIEW},q)}}},x)}}},C),J={shadowRoot:{selector:Y,children:(V={},V[g.HA_MORE_INFO_DIALOG]={selector:$.HA_MORE_INFO_DIALOG,children:{shadowRoot:{selector:Y,children:(j={},j[g.HA_DIALOG]={selector:$.HA_DIALOG,children:(U={},U[g.HA_DIALOG_CONTENT]={selector:$.HA_DIALOG_CONTENT,children:(W={},W[g.HA_MORE_INFO_DIALOG_INFO]={selector:$.HA_MORE_INFO_DIALOG_INFO},W[g.HA_DIALOG_MORE_INFO_HISTORY_AND_LOGBOOK]={selector:$.HA_DIALOG_MORE_INFO_HISTORY_AND_LOGBOOK},W[g.HA_DIALOG_MORE_INFO_SETTINGS]={selector:$.HA_DIALOG_MORE_INFO_SETTINGS},W)},U)},j)}}},V)}},X=function(e,t,n,o){return void 0===n&&(n=null),void 0===o&&(o=!1),Object.entries(t||{}).reduce((function(t,r){var i=r[0],s=r[1];if(s.selector===Y&&n)return s.children?T(T({},t),X(e,s.children,n,!0)):t;var a=n?n.then((function(t){return L(t,(n=s.selector,o?"$ "+n:n),e);var n})):L(s.selector,e);return t[i]={element:a,children:X(e,s.children,a),selector:new b(a,e)},t}),{})},Z=function(e,t){for(var n=0,o=Object.entries(t);n<o.length;n++){var r=o[n];if(r[0]===e)return r[1];var i=Z(e,r[1].children);if(i)return i}},ee=function(e,t){return Object.keys(e).reduce((function(e,n){var o=Z(n,t);o.children;var r=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(e);r<o.length;r++)t.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(n[o[r]]=e[o[r]])}return n}(o,["children"]);return e[n]=T({},r),e}),{})},te=function(){function e(){this.delegate=document.createDocumentFragment()}return e.prototype.addEventListener=function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];(e=this.delegate).addEventListener.apply(e,t)},e.prototype.dispatchEvent=function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return(e=this.delegate).dispatchEvent.apply(e,t)},e.prototype.removeEventListener=function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return(e=this.delegate).removeEventListener.apply(e,t)},e}(),ne=function(e){function t(t){void 0===t&&(t={});var n=e.call(this)||this;return n._config=T(T({},k),t),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}w(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(t,e),t.prototype._dispatchEvent=function(e,t){this.dispatchEvent(new CustomEvent(e,{detail:t}))},t.prototype._updateDialogElements=function(e){var t,n=this;void 0===e&&(e=g.HA_MORE_INFO_DIALOG_INFO),this._dialogTree=X(this._config,J,this._haRootElements.HOME_ASSISTANT.element);var o=ee(g,this._dialogTree);o.HA_DIALOG_CONTENT.element.then((function(e){n._dialogsContentObserver.disconnect(),n._dialogsContentObserver.observe(e,{childList:!0})})),this._haDialogElements=function(e,t){return[g.HA_MORE_INFO_DIALOG,g.HA_DIALOG,g.HA_DIALOG_CONTENT,t].reduce((function(t,n){return t[n]=e[n],t}),{})}(o,e);var r=((t={})[g.HA_MORE_INFO_DIALOG_INFO]=P.ON_MORE_INFO_DIALOG_OPEN,t[g.HA_DIALOG_MORE_INFO_HISTORY_AND_LOGBOOK]=P.ON_HISTORY_AND_LOGBOOK_DIALOG_OPEN,t[g.HA_DIALOG_MORE_INFO_SETTINGS]=P.ON_SETTINGS_DIALOG_OPEN,t);this._dispatchEvent(r[e],this._haDialogElements)},t.prototype._updateRootElements=function(){var e=this;this._homeAssistantRootTree=X(this._config,z),this._haRootElements=ee(D,this._homeAssistantRootTree),this._haRootElements[D.HOME_ASSISTANT].selector.$.element.then((function(t){e._dialogsObserver.disconnect(),e._dialogsObserver.observe(t,{childList:!0})})),this._haRootElements[D.PARTIAL_PANEL_RESOLVER].element.then((function(t){e._panelResolverObserver.disconnect(),t&&e._panelResolverObserver.observe(t,{childList:!0})})),this._dispatchEvent(P.ON_LISTEN,this._haRootElements),this._dispatchEvent(P.ON_PANEL_LOAD,this._haRootElements)},t.prototype._updateLovelaceElements=function(){var e=this,t=Date.now();t-this._timestap<500||(this._timestap=t,this._homeAssistantResolverTree=X(this._config,Q,this._haRootElements[D.HA_DRAWER].element),this._haResolverElements=ee(H,this._homeAssistantResolverTree),this._haResolverElements[H.HA_PANEL_LOVELACE].selector.$.element.then((function(t){e._lovelaceObserver.disconnect(),t&&(e._lovelaceObserver.observe(t,{childList:!0}),e._dispatchEvent(P.ON_LOVELACE_PANEL_LOAD,T(T({},e._haRootElements),e._haResolverElements)))})))},t.prototype._watchDialogs=function(e){var t=this;e.forEach((function(e){e.addedNodes.forEach((function(e){e.localName===$.HA_MORE_INFO_DIALOG&&t._updateDialogElements()}))}))},t.prototype._watchDialogsContent=function(e){var t=this;e.forEach((function(e){e.addedNodes.forEach((function(e){var n,o=((n={})[$.HA_MORE_INFO_DIALOG_INFO]=g.HA_MORE_INFO_DIALOG_INFO,n[$.HA_DIALOG_MORE_INFO_HISTORY_AND_LOGBOOK]=g.HA_DIALOG_MORE_INFO_HISTORY_AND_LOGBOOK,n[$.HA_DIALOG_MORE_INFO_SETTINGS]=g.HA_DIALOG_MORE_INFO_SETTINGS,n);if(e.localName&&e.localName in o){var r=e.localName;t._updateDialogElements(o[r])}}))}))},t.prototype._watchDashboards=function(e){var t=this;e.forEach((function(e){e.addedNodes.forEach((function(e){t._dispatchEvent(P.ON_PANEL_LOAD,t._haRootElements),e.localName===$.HA_PANEL_LOVELACE&&t._updateLovelaceElements()}))}))},t.prototype._watchLovelace=function(e){var t=this;e.forEach((function(e){e.addedNodes.forEach((function(e){e.localName===$.HUI_ROOT&&t._updateLovelaceElements()}))}))},t.prototype.listen=function(){this._watchDialogsBinded=this._watchDialogs.bind(this),this._watchDialogsContentBinded=this._watchDialogsContent.bind(this),this._watchDashboardsBinded=this._watchDashboards.bind(this),this._watchLovelaceBinded=this._watchLovelace.bind(this),this._dialogsObserver=new MutationObserver(this._watchDialogsBinded),this._dialogsContentObserver=new MutationObserver(this._watchDialogsContentBinded),this._panelResolverObserver=new MutationObserver(this._watchDashboardsBinded),this._lovelaceObserver=new MutationObserver(this._watchLovelaceBinded),this._updateRootElements(),this._updateLovelaceElements()},t.prototype.addEventListener=function(t,n,o){e.prototype.addEventListener.call(this,t,n,o)},t}(te);!function(e){e.AFTER="after",e.BEFORE="before"}(K||(K={}));const oe="keep-texts-in-tabs";var re;!function(e){e.TOOLBAR=".toolbar",e.HA_TABS="ha-tabs",e.PAPER_TABS="paper-tabs",e.PAPER_TAB="paper-tab",e.HUI_VIEW="hui-view",e.HA_ICON="ha-icon"}(re||(re={}));const ie=e=>{let t=(e=>e.querySelector(`#${oe}`))(e);t||(t=document.createElement("style"),t.setAttribute("id",oe),e.appendChild(t)),t.innerHTML=`\n        paper-tab span.${oe} {\n            display: inline-block;\n        }\n        paper-tab span.${oe}-${K.BEFORE} {\n            padding-right: 5px;\n        }\n        paper-tab span.${oe}-${K.AFTER} {\n            padding-left: 5px;\n        }\n    `};class se{constructor(){const t=new ne;t.addEventListener(P.ON_LOVELACE_PANEL_LOAD,(t=>e(this,void 0,void 0,(function*(){const{HA_PANEL_LOVELACE:e,HUI_ROOT:n,HEADER:o}=t.detail;this.lovelace=yield e.element,this.huiRoot=yield n.selector.$.element,this.appToolbar=yield o.selector.query(re.TOOLBAR).element,this.run()})))),t.listen(),this.resizeWindowBinded=this.resizeWindow.bind(this),window.addEventListener("resize",this.resizeWindowBinded)}run(){var t;return e(this,void 0,void 0,(function*(){null===(t=this.toolBarObserver)||void 0===t||t.disconnect(),ie(this.appToolbar);const e=this.lovelace.lovelace.config;this.toolBarObserver=new MutationObserver(this.process.bind(this,e.keep_texts_in_tabs)),this.toolBarObserver.observe(this.appToolbar,{childList:!0}),this.process(e.keep_texts_in_tabs)}))}process(e){var t;if(null===(t=this.paperTabsEditionResolver)||void 0===t||t.disconnect(),!e)return;let n;n=e.mobile_config&&window.innerWidth<=(e.mobile_config.mobile_screen_width||640)?e.mobile_config:e;const{enabled:o=!1,include:r,exclude:i,position:s=K.AFTER,override:a=[]}=n;if(r&&i)throw Error(`${oe}: Configuration cannot have "include" and "exclude" properties at the same time`);const c=!!this.huiRoot.querySelector(":host > div.edit-mode"),l=c?this.huiRoot.querySelector(re.PAPER_TABS):this.appToolbar.querySelector(re.HA_TABS),u=l?Array.from(l.querySelectorAll(re.PAPER_TAB)):[];if(!u.length)return;const _=a.map((e=>e.toUpperCase()));u.map((e=>{const t=e.getAttribute("aria-label")||"",n=e.querySelector(`span.${oe}`);return n&&n.remove(),{element:e,label:t,icon:e.querySelector(re.HA_ICON),position:_.includes(t.toUpperCase())?s===K.AFTER?K.BEFORE:K.AFTER:s}})).filter((e=>!(!o||!e.icon)&&(r?r.includes(e.label):!i||!i.includes(e.label)))).forEach((e=>{const t=((e,t)=>{const n=document.createTextNode(e),o=document.createElement("span");return o.classList.add(oe,`${oe}-${t}`),o.appendChild(n),o})(e.label,e.position);e.position===K.AFTER?e.element.insertBefore(t,e.icon.nextSibling):e.element.insertBefore(t,e.icon)})),o&&c&&(this.paperTabsEditionResolver=new MutationObserver((t=>{t.forEach((({addedNodes:t})=>{t.forEach((t=>{t.nodeType===Node.ELEMENT_NODE&&t.nodeName===re.PAPER_TAB.toUpperCase()&&this.process(e)}))}))})),this.paperTabsEditionResolver.observe(this.huiRoot.querySelector(re.PAPER_TABS),{childList:!0,subtree:!0})),"function"==typeof l._boundNotifyResize&&l._boundNotifyResize()}resizeWindow(){window.clearTimeout(this.resizeDelay),this.resizeDelay=window.setTimeout((()=>{this.run()}),100)}}console.info(`%c＋ ${oe.toUpperCase()}%cv1.1.5`,"font-weight: bold; color: #038fc7; padding: 2px;","font-weight: normal; color: #212121; padding: 2px"),Promise.resolve(customElements.whenDefined(re.HUI_VIEW)).then((()=>{new se}))}();
